# NOTES

## FAQ

### 切片 `values[:0]` 语义

`values[:0]` 表示一个空的切片。这个切片的元素起始地址和原始切片起始地址相同。

一个代码示例：

```go
func nonempty2(strings []string) []string {
    out := strings[:0]  // zero-length slice of original
    for _, s := range strings {
        if s != "" {
            out = append(out, s)
        }
    }
    return out
}
```

### `pp := &Point{1, 2}` 语义

由于结构体通常通过指针来处理，这样的写法可以用来创建并初始化一个结构体变量，并返回这个结构体对象的地址：

```go
pp := &Point{1, 2}
```

等价于

```go
pp := new(Point)
*pp = Point{1, 2}
```

### Go 字符串格式化符号

| 格式 | 说明 |
| :-: | :-: |
| `%v` | 按值的本来值输出 |
| `%+v` | 在 `%v` 基础上，对结构体字段名和值进行展开 |
| `%#v` | 输出 Go 语言语法格式的值 |
| `%T` | 输出 Go 语言语法格式的类型和值 |
| `%%` | 输出 % 本体 |
| `%b` | 整型以二进制方式显示 |
| `%o` | 整型以八进制方式显示 |
| `%d` | 整型以十进制方式显示 |
| `%x` | 整型以十六进制方式显示 |
| `%X` | 整型以十六进制、字母大写方式显示 |
| `%q` | 该值对应的单引号括起来的 go 语法字符字面值，必要时会采用安全的转义表示 |
| `%U` | Unicode 字符 |
| `%f` | 浮点数 |
| `%e`, `%E` | 科学计数法显示 |
| `%p` | 指针，十六进制方式显示 |

#### 对齐方式

常用的对齐参数有：

- `%s`：字符串格式，可以使用以下对齐参数：

    - `%s`：默认对齐方式，左对齐。
    - `%10s`：指定宽度为 10 的右对齐。
    - `%-10s`：指定宽度为 10 的左对齐。

- `%d`：整数格式，可以使用以下对齐参数：

    - `%d`：默认对齐方式，右对齐。
    - `%10d`：指定宽度为 10 的右对齐。
    - `%-10d`：指定宽度为 10 的左对齐。

- `%f`：浮点数格式，可以使用以下对齐参数：

    - `%f`：默认对齐方式，右对齐。
    - `%10f`：指定宽度为 10 的右对齐。
    - `%-10f`：指定宽度为 10 的左对齐。

### `go test` 常用参数

#### `go test -v`

使用 `-v` 参数可以打印测试过程的详情，包括使用 `testing.T.Logf` 打印的日志内容以及每个测试 CASE 的用时详情。

#### `go test -run="Insert"`

使用 `-run` 参数可以指定运行哪些测试 CASE，比如 "Insert" 将按正则匹配符合的测试样例名。"Insert|Delete" 就是符合二者的测试样例名。

#### 参考

[pkg.go.dev/fmt](https://pkg.go.dev/fmt)
